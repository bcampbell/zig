SET(CMAKE_INCLUDE_CURRENT_DIR ON)

# we've got our own module to find STK
SET(CMAKE_MODULE_PATH ${zig_SOURCE_DIR})

FIND_PACKAGE(SDL REQUIRED)
FIND_PACKAGE(SDL_mixer REQUIRED)
FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(PNG REQUIRED)
FIND_PACKAGE(ZLIB REQUIRED)
FIND_PACKAGE(STK REQUIRED)

INCLUDE_DIRECTORIES(${OPENGL_INCLUDE_DIR} ${ZLIB_INCLUDE_DIR} ${PNG_INCLUDE_DIR} ${SDL_INCLUDE_DIR} ${SDLMIXER_INCLUDE_DIR} ${STK_INCLUDE_DIR})

# actually probably a few unused .cpp files we should zap, but hey.
FILE(GLOB SOURCES *.cpp)
SET( SOURCES ${SOURCES} retromat/retromat.cpp retromat/sidstyle.cpp )

ADD_EXECUTABLE(zig ${SOURCES})
TARGET_LINK_LIBRARIES( zig ${OPENGL_LIBRARY} ${ZLIB_LIBRARY} ${PNG_LIBRARY} ${SDL_LIBRARY} ${SDLMIXER_LIBRARY} ${STK_LIBRARY})


